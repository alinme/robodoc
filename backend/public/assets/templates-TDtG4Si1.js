import{u as $,r as w,e as n}from"./index-D6DdudHB.js";const l="/api",T=$("templates",()=>{const d=w([]),u=w(!1),i=w(null);async function p(){var a,t;u.value=!0,i.value=null;try{const e=await n.get(`${l}/templates`);d.value=e.data.templates}catch(e){i.value=((t=(a=e.response)==null?void 0:a.data)==null?void 0:t.error)||e.message,console.error("Error fetching templates:",e)}finally{u.value=!1}}async function f(a,t,e,r){var c,o;try{const s=await n.post(`${l}/templates`,{name:a,content:t,html_template:e,email_subject:r});return await p(),s.data.template}catch(s){throw new Error(((o=(c=s.response)==null?void 0:c.data)==null?void 0:o.error)||s.message)}}async function h(a,t,e,r,c){var o,s;try{const m=await n.put(`${l}/templates/${a}`,{name:t,content:e,html_template:r,email_subject:c});return await p(),m.data.template}catch(m){throw new Error(((s=(o=m.response)==null?void 0:o.data)==null?void 0:s.error)||m.message)}}async function y(a){var t,e;try{await n.delete(`${l}/templates/${a}`),await p()}catch(r){throw new Error(((e=(t=r.response)==null?void 0:t.data)==null?void 0:e.error)||r.message)}}async function g(a){var t,e;try{return(await n.get(`${l}/templates/${a}`)).data.template}catch(r){throw new Error(((e=(t=r.response)==null?void 0:t.data)==null?void 0:e.error)||r.message)}}return{templates:d,loading:u,error:i,fetchTemplates:p,createTemplate:f,updateTemplate:h,deleteTemplate:y,getTemplate:g}});export{T as u};
