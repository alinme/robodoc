import{d as q,r as I,o as J,c as l,a as t,t as e,F as r,b as c,e as K,f as Q,n as X,g as Y,h as a}from"./index-D6DdudHB.js";const Z={class:"px-4 py-6 sm:px-0"},tt={key:0,class:"text-center py-12"},st={key:1,class:"space-y-6"},et={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},ot={class:"bg-white rounded-lg shadow p-6"},nt={class:"flex items-center justify-between"},lt={class:"text-3xl font-bold text-gray-900 mt-2"},at={class:"mt-4 flex items-center text-sm"},it={class:"text-green-600 font-medium"},dt={class:"bg-white rounded-lg shadow p-6"},rt={class:"flex items-center justify-between"},ct={class:"text-3xl font-bold text-gray-900 mt-2"},gt={class:"bg-white rounded-lg shadow p-6"},ut={class:"flex items-center justify-between"},xt={class:"text-3xl font-bold text-gray-900 mt-2"},mt={class:"mt-4 flex items-center text-sm"},yt={class:"text-green-600 font-medium"},pt={class:"bg-white rounded-lg shadow p-6"},vt={class:"flex items-center justify-between"},ht={class:"text-3xl font-bold text-gray-900 mt-2"},_t={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},ft={class:"bg-white rounded-lg shadow p-6"},bt={class:"space-y-3"},wt={class:"flex justify-between items-center"},kt={class:"text-lg font-semibold text-gray-900"},Mt={class:"flex justify-between items-center"},jt={class:"text-lg font-semibold text-gray-900"},Tt={class:"flex justify-between items-center"},Ct={class:"text-lg font-semibold text-gray-900"},Bt={class:"bg-white rounded-lg shadow p-6"},zt={class:"space-y-3"},St={class:"flex justify-between items-center"},Gt={class:"text-lg font-semibold text-gray-900"},Nt={class:"flex justify-between items-center"},Dt={class:"text-lg font-semibold text-gray-900"},Ht={class:"flex justify-between items-center"},$t={class:"text-lg font-semibold text-gray-900"},Lt={class:"bg-white rounded-lg shadow p-6"},Vt={class:"space-y-3"},Wt={class:"flex justify-between items-center"},At={class:"text-lg font-semibold text-green-600"},Et={class:"flex justify-between items-center"},Ft={class:"text-lg font-semibold text-yellow-600"},Rt={class:"flex justify-between items-center"},Ot={class:"text-lg font-semibold text-red-600"},Ut={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},It={class:"bg-white rounded-lg shadow"},Pt={class:"p-6"},qt={key:0,class:"text-center py-8 text-gray-500"},Jt={key:1,class:"space-y-4"},Kt={class:"flex-1"},Qt={class:"font-medium text-gray-900"},Xt={key:0,class:"text-sm text-gray-500 mt-1"},Yt={class:"ml-4"},Zt={class:"text-2xl font-bold text-blue-600"},ts={class:"bg-white rounded-lg shadow"},ss={class:"p-6"},es={key:0,class:"text-center py-8 text-gray-500"},os={key:1,class:"space-y-3"},ns={class:"flex-1"},ls={class:"font-medium text-gray-900"},as={class:"text-sm text-gray-500 mt-1"},is={class:"ml-4"},ds={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},rs={class:"bg-white rounded-lg shadow"},cs={class:"p-6"},gs={key:0,class:"text-center py-8 text-gray-500"},us={key:1,class:"space-y-3"},xs={class:"text-sm font-medium text-gray-700"},ms={class:"flex items-center gap-3"},ys={class:"w-32 bg-gray-200 rounded-full h-2"},ps={class:"text-sm font-semibold text-gray-900 w-12 text-right"},vs={class:"bg-white rounded-lg shadow"},hs={class:"p-6"},_s={key:0,class:"text-center py-8 text-gray-500"},fs={key:1,class:"space-y-3"},bs={class:"flex-1"},ws={class:"font-medium text-gray-900"},ks={class:"text-sm text-gray-500 mt-1"},Ms={class:"ml-4 text-sm text-gray-500"},Cs=q({__name:"Dashboard",setup(js){const g=I(!0),o=I(null);async function u(){var i,s;g.value=!0;try{const d=await K.get("/api/dashboard/stats");o.value=d.data.stats}catch(d){console.error("Error fetching dashboard stats:",d),alert("Error loading dashboard: "+(((s=(i=d.response)==null?void 0:i.data)==null?void 0:s.error)||d.message))}finally{g.value=!1}}function x(i){return i?new Date(i).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"}return J(()=>{u(),setInterval(u,3e4)}),(i,s)=>{var d,m,y,p,v,h,_,f,b,w,k,M,j,T,C,B,z,S,G,N,D,H,$,L,V,W,A,E,F,R,O,U;return a(),l("div",Z,[s[32]||(s[32]=t("div",{class:"mb-6"},[t("h2",{class:"text-3xl font-bold text-gray-900"},"Dashboard"),t("p",{class:"mt-1 text-sm text-gray-500"},"Overview of your RoboDoc activity")],-1)),g.value?(a(),l("div",tt,[...s[2]||(s[2]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1),t("p",{class:"mt-2 text-gray-600"},"Loading dashboard...",-1)])])):(a(),l("div",st,[t("div",et,[t("div",ot,[t("div",nt,[t("div",null,[s[3]||(s[3]=t("p",{class:"text-sm font-medium text-gray-600"},"Total Contacts",-1)),t("p",lt,e(((d=o.value)==null?void 0:d.totalContacts)||0),1)]),s[4]||(s[4]=t("div",{class:"p-3 bg-blue-100 rounded-full"},[t("svg",{class:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])],-1))]),t("div",at,[t("span",it,"+"+e(((m=o.value)==null?void 0:m.contactsThisMonth)||0),1),s[5]||(s[5]=t("span",{class:"text-gray-500 ml-1"},"this month",-1))])]),t("div",dt,[t("div",rt,[t("div",null,[s[6]||(s[6]=t("p",{class:"text-sm font-medium text-gray-600"},"Total Groups",-1)),t("p",ct,e(((y=o.value)==null?void 0:y.totalGroups)||0),1)]),s[7]||(s[7]=t("div",{class:"p-3 bg-green-100 rounded-full"},[t("svg",{class:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])],-1))]),s[8]||(s[8]=t("div",{class:"mt-4 flex items-center text-sm"},[t("span",{class:"text-gray-500"},"Organize your contacts")],-1))]),t("div",gt,[t("div",ut,[t("div",null,[s[9]||(s[9]=t("p",{class:"text-sm font-medium text-gray-600"},"Messages Sent",-1)),t("p",xt,e(((p=o.value)==null?void 0:p.totalMessages)||0),1)]),s[10]||(s[10]=t("div",{class:"p-3 bg-purple-100 rounded-full"},[t("svg",{class:"w-8 h-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})])],-1))]),t("div",mt,[t("span",yt,"+"+e(((v=o.value)==null?void 0:v.messagesToday)||0),1),s[11]||(s[11]=t("span",{class:"text-gray-500 ml-1"},"today",-1))])]),t("div",pt,[t("div",vt,[t("div",null,[s[12]||(s[12]=t("p",{class:"text-sm font-medium text-gray-600"},"Templates",-1)),t("p",ht,e(((h=o.value)==null?void 0:h.totalTemplates)||0),1)]),s[13]||(s[13]=t("div",{class:"p-3 bg-yellow-100 rounded-full"},[t("svg",{class:"w-8 h-8 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1))]),s[14]||(s[14]=t("div",{class:"mt-4 flex items-center text-sm"},[t("span",{class:"text-gray-500"},"Message templates")],-1))])]),t("div",_t,[t("div",ft,[s[18]||(s[18]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Messages Activity",-1)),t("div",bt,[t("div",wt,[s[15]||(s[15]=t("span",{class:"text-sm text-gray-600"},"Today",-1)),t("span",kt,e(((_=o.value)==null?void 0:_.messagesToday)||0),1)]),t("div",Mt,[s[16]||(s[16]=t("span",{class:"text-sm text-gray-600"},"This Week",-1)),t("span",jt,e(((f=o.value)==null?void 0:f.messagesThisWeek)||0),1)]),t("div",Tt,[s[17]||(s[17]=t("span",{class:"text-sm text-gray-600"},"This Month",-1)),t("span",Ct,e(((b=o.value)==null?void 0:b.messagesThisMonth)||0),1)])])]),t("div",Bt,[s[22]||(s[22]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Contacts Activity",-1)),t("div",zt,[t("div",St,[s[19]||(s[19]=t("span",{class:"text-sm text-gray-600"},"Today",-1)),t("span",Gt,e(((w=o.value)==null?void 0:w.contactsToday)||0),1)]),t("div",Nt,[s[20]||(s[20]=t("span",{class:"text-sm text-gray-600"},"This Week",-1)),t("span",Dt,e(((k=o.value)==null?void 0:k.contactsThisWeek)||0),1)]),t("div",Ht,[s[21]||(s[21]=t("span",{class:"text-sm text-gray-600"},"This Month",-1)),t("span",$t,e(((M=o.value)==null?void 0:M.contactsThisMonth)||0),1)])])]),t("div",Lt,[s[26]||(s[26]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Messages Status",-1)),t("div",Vt,[t("div",Wt,[s[23]||(s[23]=t("span",{class:"text-sm text-gray-600"},"Sent",-1)),t("span",At,e((((T=(j=o.value)==null?void 0:j.messagesByStatus)==null?void 0:T.sent)||0)+(((B=(C=o.value)==null?void 0:C.messagesByStatus)==null?void 0:B.success)||0)),1)]),t("div",Et,[s[24]||(s[24]=t("span",{class:"text-sm text-gray-600"},"Pending",-1)),t("span",Ft,e(((S=(z=o.value)==null?void 0:z.messagesByStatus)==null?void 0:S.pending)||0),1)]),t("div",Rt,[s[25]||(s[25]=t("span",{class:"text-sm text-gray-600"},"Failed",-1)),t("span",Ot,e(((N=(G=o.value)==null?void 0:G.messagesByStatus)==null?void 0:N.failed)||0),1)])])])]),t("div",Ut,[t("div",It,[s[28]||(s[28]=t("div",{class:"p-6 border-b border-gray-200"},[t("h3",{class:"text-lg font-semibold text-gray-900"},"Top Groups")],-1)),t("div",Pt,[((H=(D=o.value)==null?void 0:D.topGroups)==null?void 0:H.length)===0?(a(),l("div",qt," No groups yet ")):(a(),l("div",Jt,[(a(!0),l(r,null,c(($=o.value)==null?void 0:$.topGroups,n=>(a(),l("div",{key:n.id,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer",onClick:s[0]||(s[0]=P=>i.$router.push("/groups"))},[t("div",Kt,[t("p",Qt,e(n.name),1),n.description?(a(),l("p",Xt,e(n.description),1)):Q("",!0)]),t("div",Yt,[t("span",Zt,e(n.contact_count),1),s[27]||(s[27]=t("span",{class:"text-sm text-gray-500 ml-1"},"contacts",-1))])]))),128))]))])]),t("div",ts,[s[29]||(s[29]=t("div",{class:"p-6 border-b border-gray-200"},[t("h3",{class:"text-lg font-semibold text-gray-900"},"Recent Messages")],-1)),t("div",ss,[((V=(L=o.value)==null?void 0:L.recentMessages)==null?void 0:V.length)===0?(a(),l("div",es," No messages sent yet ")):(a(),l("div",os,[(a(!0),l(r,null,c((W=o.value)==null?void 0:W.recentMessages,n=>(a(),l("div",{key:n.id,class:"flex items-start justify-between p-3 bg-gray-50 rounded-lg"},[t("div",ns,[t("p",ls,e(n.contact_name||n.group_name||"Unknown"),1),t("p",as,e(x(n.sent_at)),1)]),t("div",is,[t("span",{class:X([{"bg-green-100 text-green-800":n.status==="sent"||n.status==="success","bg-yellow-100 text-yellow-800":n.status==="pending","bg-red-100 text-red-800":n.status==="failed"},"px-2 py-1 text-xs font-medium rounded-full"])},e(n.status),3)])]))),128))]))])])]),t("div",ds,[t("div",rs,[s[30]||(s[30]=t("div",{class:"p-6 border-b border-gray-200"},[t("h3",{class:"text-lg font-semibold text-gray-900"},"Contacts by Group")],-1)),t("div",cs,[((E=(A=o.value)==null?void 0:A.contactsByGroup)==null?void 0:E.length)===0?(a(),l("div",gs," No contacts yet ")):(a(),l("div",us,[(a(!0),l(r,null,c((F=o.value)==null?void 0:F.contactsByGroup,n=>(a(),l("div",{key:n.group_name,class:"flex items-center justify-between"},[t("span",xs,e(n.group_name),1),t("div",ms,[t("div",ys,[t("div",{class:"bg-blue-600 h-2 rounded-full",style:Y({width:`${n.count/o.value.totalContacts*100}%`})},null,4)]),t("span",ps,e(n.count),1)])]))),128))]))])]),t("div",vs,[s[31]||(s[31]=t("div",{class:"p-6 border-b border-gray-200"},[t("h3",{class:"text-lg font-semibold text-gray-900"},"Recent Contacts")],-1)),t("div",hs,[((O=(R=o.value)==null?void 0:R.recentContacts)==null?void 0:O.length)===0?(a(),l("div",_s," No contacts yet ")):(a(),l("div",fs,[(a(!0),l(r,null,c((U=o.value)==null?void 0:U.recentContacts,n=>(a(),l("div",{key:n.id,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer",onClick:s[1]||(s[1]=P=>i.$router.push("/contacts"))},[t("div",bs,[t("p",ws,e(n.name),1),t("p",ks,e(n.phone)+" â€¢ "+e(n.group_name||"No Group"),1)]),t("div",Ms,e(x(n.created_at)),1)]))),128))]))])])])]))])}}});export{Cs as default};
